# API proxy to Functions
/api/*  /api/:splat  200

# SPA Fallback
# The trick to avoid "Infinite Loop" warning is to ensure it doesn't match existing files
# But _redirects doesn't support "if not exists" logic explicitly like nginx.
# Cloudflare Pages automatically serves files if they exist.
# The warning is often benign, but let's try a safer pattern.
# We redirect everything that is NOT an asset to index.html
!/assets/*  /index.html  200
